var overlay=new Class({getOptions:function(){return{colour:"#000",opacity:.01,zIndex:1,container:document.body,_onClick:$empty}},initialize:function(e){this.setOptions(this.getOptions(),e);this.options.container=$(this.options.container);this.container=(new Element("div")).setProperty("id","OverlayContainer").setStyles({position:"absolute",left:"0px",top:"0px",width:"100%",zIndex:this.options.zIndex}).injectInside(this.options.container);this.iframe=(new Element("iframe")).setProperties({id:"OverlayIframe",name:"OverlayIframe",src:"javascript:void(0);",frameborder:0,scrolling:"no"}).setStyles({position:"absolute",top:0,left:0,width:"100%",height:"100%",filter:"progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)",opacity:0,zIndex:1}).injectInside(this.container);this.overlay=(new Element("div")).setProperty("id","Overlay").setStyles({position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",zIndex:2,backgroundColor:this.options.colour}).injectInside(this.container);if(this.options._onClick){this.container.addEvent("click",function(){this.options._onClick.call(this)}.bind(this))}this.container.fade("hide");this.position();window.addEvent("resize",this.position.bind(this))},setOnClick:function(e){this.container.addEvent("click",e)},position:function(){if(this.options.container==document.body){var e=window.getScrollHeight()+"px";this.container.setStyles({top:"0px",height:e})}else{var t=this.options.container.getCoordinates();this.container.setStyles({top:t.top+"px",height:t.height+"px",left:t.left+"px",width:t.width+"px"})}},show:function(){this.container.fade(this.options.opacity)},hide:function(){this.container.fade("out")}});overlay.implement(new Options)